<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 12 Árboles de decisión | Analitica de Datos Industriales Segunda Edición</title>
<meta name="author" content="Dr. Ing. Ricardo R. Palma">
<meta name="description" content="Los árboles de decisión son modelos de aprendizaje automático que se utilizan para resolver problemas de clasificación y regresión. Se basan en una estructura similar a un árbol, donde cada nodo...">
<meta name="generator" content="bookdown 0.44 with bs4_book()">
<meta property="og:title" content="Capítulo 12 Árboles de decisión | Analitica de Datos Industriales Segunda Edición">
<meta property="og:type" content="book">
<meta property="og:description" content="Los árboles de decisión son modelos de aprendizaje automático que se utilizan para resolver problemas de clasificación y regresión. Se basan en una estructura similar a un árbol, donde cada nodo...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 12 Árboles de decisión | Analitica de Datos Industriales Segunda Edición">
<meta name="twitter:description" content="Los árboles de decisión son modelos de aprendizaje automático que se utilizan para resolver problemas de clasificación y regresión. Se basan en una estructura similar a un árbol, donde cada nodo...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="libs/scatterPlotMatrix-0.3/scatterPlotMatrix.css" rel="stylesheet">
<script src="libs/scatterPlotMatrix-binding-0.3.0/scatterPlotMatrix.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Analitica de Datos Industriales Segunda Edición</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Acerca de este curso</a></li>
<li><a class="" href="an%C3%A1lisis-exploratorio.html"><span class="header-section-number">1</span> Análisis Exploratorio</a></li>
<li><a class="" href="identificaci%C3%B3n-de-valores-m%C3%ADnimos-y-m%C3%A1ximos-conteos-query.html"><span class="header-section-number">2</span> Identificación de valores mínimos y máximos, conteos (QUERY)</a></li>
<li><a class="" href="ploteos-y-gr%C3%A1ficas.html"><span class="header-section-number">3</span> Ploteos y Gráficas</a></li>
<li><a class="" href="estad%C3%ADsticos-univariados-normales.html"><span class="header-section-number">4</span> Estadísticos univariados normales</a></li>
<li><a class="" href="datos-categ%C3%B3ricos.html"><span class="header-section-number">5</span> Datos Categóricos</a></li>
<li><a class="" href="an%C3%A1lisis-multivariado.html"><span class="header-section-number">6</span> Análisis Multivariado</a></li>
<li><a class="" href="data_analitics.html"><span class="header-section-number">7</span> Data_Analitics</a></li>
<li><a class="" href="patrones-de-asociaci%C3%B3n.html"><span class="header-section-number">8</span> Patrones de asociación</a></li>
<li><a class="" href="algoritmo-del-vecino-m%C3%A1s-pr%C3%B3ximo.html"><span class="header-section-number">9</span> Algoritmo del vecino más próximo</a></li>
<li><a class="" href="redes-neuronales-artificiales.html"><span class="header-section-number">10</span> Redes Neuronales artificiales</a></li>
<li><a class="" href="clusterizaci%C3%B3n.html"><span class="header-section-number">11</span> Clusterización</a></li>
<li><a class="active" href="%C3%A1rboles-de-decisi%C3%B3n.html"><span class="header-section-number">12</span> Árboles de decisión</a></li>
<li><a class="" href="random-forest.html"><span class="header-section-number">13</span> Random Forest</a></li>
<li><a class="" href="bibliograf%C3%ADa.html">Bibliografía</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="árboles-de-decisión" class="section level1" number="12">
<h1>
<span class="header-section-number">Capítulo 12</span> Árboles de decisión<a class="anchor" aria-label="anchor" href="#%C3%A1rboles-de-decisi%C3%B3n"><i class="fas fa-link"></i></a>
</h1>
<p>Los árboles de decisión son modelos de aprendizaje automático que se utilizan para resolver problemas de clasificación y regresión. Se basan en una estructura similar a un árbol, donde cada nodo representa una pregunta o una condición sobre una característica de los datos. A medida que se desciende por el árbol, se toman decisiones basadas en las respuestas a las preguntas, hasta llegar a una hoja que representa la predicción final.</p>
<p>En un árbol de decisión, los datos se dividen en diferentes ramas en función de las características y los valores de las mismas. Estas divisiones se realizan de manera que se maximice la pureza o la homogeneidad de los subconjuntos resultantes. En el caso de problemas de clasificación, los subconjuntos se dividen de forma que se agrupen las instancias con la misma clase, mientras que en problemas de regresión, se busca reducir la varianza de los valores objetivo.</p>
<p>Se trata de un proceso de aprendizaje a partir de datos y se dice que es no supervisado. Necesita datos con etiquetas.</p>
<p>El proceso de construcción de un árbol de decisión implica varios pasos, que incluyen la selección de características, la definición de criterios de división y la poda del árbol para evitar el sobreajuste. Algunos algoritmos populares para la construcción de árboles de decisión son el algoritmo ID3, C4.5, CART y Random Forest.</p>
<p>Los árboles de decisión tienen varias ventajas, como la interpretabilidad y la capacidad de manejar tanto datos numéricos como categóricos. Además, pueden capturar relaciones no lineales entre las características y la variable objetivo. Sin embargo, también tienen limitaciones, como la tendencia al sobreajuste y la sensibilidad a pequeñas variaciones en los datos de entrenamiento.</p>
<p>En resumen, los árboles de decisión son modelos versátiles y ampliamente utilizados en machine learning debido a su capacidad para resolver problemas de clasificación y regresión. Su estructura jerárquica basada en preguntas y decisiones los hace fáciles de interpretar y explicar, lo que los convierte en una herramienta valiosa para tomar decisiones basadas en datos en diferentes dominios.</p>
<p>En esta parte veremos como trabajar con el entrenamiento de árboles para luego comprender mejor el algoritmo ramdom-forest.</p>
<div id="bibliografía-recomendada-4" class="section level2" number="12.1">
<h2>
<span class="header-section-number">12.1</span> Bibliografía recomendada<a class="anchor" aria-label="anchor" href="#bibliograf%C3%ADa-recomendada-4"><i class="fas fa-link"></i></a>
</h2>
<div class="float">
<img src="images/book4.png" alt="Diseño de experimento"><div class="figcaption">Diseño de experimento</div>
</div>
</div>
<div id="carga-de-datos-desde-la-web" class="section level2" number="12.2">
<h2>
<span class="header-section-number">12.2</span> Carga de datos desde la web<a class="anchor" aria-label="anchor" href="#carga-de-datos-desde-la-web"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/">car</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: carData</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="va">partners</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"https://ricardorpalma.github.io/R-Dataset/BSC_proveedores.csv"</span>, </span>
<span>    col_types <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/cols.html">cols</a></span><span class="op">(</span>Empresa <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_factor.html">col_factor</a></span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CNB-Cerveza"</span>, </span>
<span>        <span class="st">"FARMACORP"</span>, <span class="st">"SOFIA-Avicola"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; New names:</span></span>
<span><span class="co">#&gt; • `` -&gt; `...1`</span></span>
<span><span class="co"># partners &lt;- read.table("BSC_proveedores.csv",header=TRUE,sep=",")</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span></span>
<span><span class="co">#&gt;       ...1          Tecnologia        Normas     </span></span>
<span><span class="co">#&gt;  Min.   :  1.00   Min.   :4.300   Min.   :2.000  </span></span>
<span><span class="co">#&gt;  1st Qu.: 38.25   1st Qu.:5.100   1st Qu.:2.800  </span></span>
<span><span class="co">#&gt;  Median : 75.50   Median :5.800   Median :3.000  </span></span>
<span><span class="co">#&gt;  Mean   : 75.50   Mean   :5.843   Mean   :3.057  </span></span>
<span><span class="co">#&gt;  3rd Qu.:112.75   3rd Qu.:6.400   3rd Qu.:3.300  </span></span>
<span><span class="co">#&gt;  Max.   :150.00   Max.   :7.900   Max.   :4.400  </span></span>
<span><span class="co">#&gt;     Capital          Equipo               Empresa  </span></span>
<span><span class="co">#&gt;  Min.   :1.000   Min.   :0.100   CNB-Cerveza  :50  </span></span>
<span><span class="co">#&gt;  1st Qu.:1.600   1st Qu.:0.300   FARMACORP    :50  </span></span>
<span><span class="co">#&gt;  Median :4.350   Median :1.300   SOFIA-Avicola:50  </span></span>
<span><span class="co">#&gt;  Mean   :3.758   Mean   :1.199                     </span></span>
<span><span class="co">#&gt;  3rd Qu.:5.100   3rd Qu.:1.800                     </span></span>
<span><span class="co">#&gt;  Max.   :6.900   Max.   :2.500</span></span></code></pre></div>
</div>
<div id="matriz-de-covarianza" class="section level2" number="12.3">
<h2>
<span class="header-section-number">12.3</span> Matriz de Covarianza<a class="anchor" aria-label="anchor" href="#matriz-de-covarianza"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ifpen-gitlab.appcollaboratif.fr/detocs/scatterplotmatrix">scatterPlotMatrix</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/scatterPlotMatrix/man/scatterPlotMatrix.html">scatterPlotMatrix</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span></span></code></pre></div>
<div class="scatterPlotMatrix html-widget html-fill-item" id="htmlwidget-dd626608979a7d6ebee0" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-dd626608979a7d6ebee0">{"x":{"data":{"...1":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150],"Tecnologia":[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,5.5,4.9,4.4,5.1,5,4.5,4.4,5,5.1,4.8,5.1,4.6,5.3,5,7,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6,5.7,5.5,5.5,5.8,6,5.4,6,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"Normas":[3.5,3,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3,3,4,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3,3.4,3.5,2.3,3.2,3.5,3.8,3,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2,3,2.2,2.9,2.9,3.1,3,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3,2.8,3,2.9,2.6,2.4,2.4,2.7,2.7,3,3.4,3.1,2.3,3,2.5,2.6,3,2.6,2.3,2.7,3,2.9,2.9,2.5,2.8,3.3,2.7,3,2.9,3,3,2.5,2.9,2.5,3.6,3.2,2.7,3,2.5,2.8,3.2,3,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3,2.8,3,2.8,3.8,2.8,2.8,2.6,3,3.4,3.1,3,3.1,3.1,3.1,2.7,3.2,3.3,3,2.5,3,3.4,3],"Capital":[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.4,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4,4.7,4.5,4.9,4,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4,4.4,4.6,4,3.3,4.2,4.2,4.2,4.3,3,4.1,6,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5,5.1,5.3,5.5,6.7,6.9,5,5.7,4.9,6.7,4.9,5.7,6,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5,5.2,5.4,5.1],"Equipo":[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2,1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3,2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8],"Empresa":["CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","CNB-Cerveza","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","FARMACORP","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola","SOFIA-Avicola"]},"rowLabels":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150"],"categorical":[null,null,null,null,null,null],"inputColumns":null,"cutoffs":null,"keptColumns":null,"zAxisDim":null,"distribType":2,"regressionType":0,"corrPlotType":"Circles","corrPlotCS":null,"rotateTitle":false,"columnLabels":null,"continuousCS":"Viridis","categoricalCS":"Category10","mouseMode":"tooltip","eventInputId":null,"controlWidgets":false,"cssRules":null,"plotProperties":null,"slidersPosition":null},"evals":[],"jsHooks":[]}</script><p>Como vemos la columna 1, PK, (primary key) no es parte de los datos. Se trata de un número secuencial que no está relacionado con la muestra.</p>
</div>
<div id="entrenamiento-de-árbol-de-decisión" class="section level2" number="12.4">
<h2>
<span class="header-section-number">12.4</span> Entrenamiento de árbol de decisión<a class="anchor" aria-label="anchor" href="#entrenamiento-de-%C3%A1rbol-de-decisi%C3%B3n"><i class="fas fa-link"></i></a>
</h2>
<p>Esta técnica utiliza un set de datos representativos de una situaci'on y utilizando recursivamente el teoréma de Bayes puede armar un pronosticador o clasificador de datos. Es una t'ecnica parecida a la de clustering, pero m'as refinada, pues no se basa en reglas sino en parendizaje del set de datos usado como entrenamento. En el paquete party existen dos funciones ctree que se utiliza para entrenar y predict que se usa para pronosticar o generar la regla de decici'on que debemos usar.</p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://party.R-forge.R-project.org">party</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: grid</span></span>
<span><span class="co">#&gt; Loading required package: mvtnorm</span></span>
<span><span class="co">#&gt; Loading required package: modeltools</span></span>
<span><span class="co">#&gt; Loading required package: stats4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'modeltools'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:car':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Predict</span></span>
<span><span class="co">#&gt; Loading required package: strucchange</span></span>
<span><span class="co">#&gt; Loading required package: zoo</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'zoo'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     as.Date, as.Date.numeric</span></span>
<span><span class="co">#&gt; Loading required package: sandwich</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/attach.html">attach</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span>    </span>
<span><span class="co">#&gt; spc_tbl_ [150 × 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ ...1      : num [1:150] 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ Tecnologia: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span></span>
<span><span class="co">#&gt;  $ Normas    : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</span></span>
<span><span class="co">#&gt;  $ Capital   : num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span></span>
<span><span class="co">#&gt;  $ Equipo    : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span></span>
<span><span class="co">#&gt;  $ Empresa   : Factor w/ 3 levels "CNB-Cerveza",..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  - attr(*, "spec")=</span></span>
<span><span class="co">#&gt;   .. cols(</span></span>
<span><span class="co">#&gt;   ..   ...1 = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Tecnologia = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Normas = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Capital = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Equipo = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Empresa = col_factor(levels = c("CNB-Cerveza", "FARMACORP", "SOFIA-Avicola"), ordered = FALSE, include_na = FALSE)</span></span>
<span><span class="co">#&gt;   .. )</span></span>
<span><span class="co">#&gt;  - attr(*, "problems")=&lt;externalptr&gt;</span></span>
<span><span class="co"># describe al objeto transit y muestras las columna que tiene</span></span>
<span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arules/man/sample.html">sample</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span>, replace<span class="op">=</span><span class="cn">TRUE</span>, prob<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span>  </span>
<span><span class="co"># toma una muestra  </span></span>
<span><span class="va">ind</span>  </span>
<span><span class="co">#&gt;   [1] 1 2 2 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 2 1 2 1 2 1 2 1 1</span></span>
<span><span class="co">#&gt;  [28] 1 2 1 1 2 2 1 1 2 1 1 2 1 1 1 1 1 1 2 1 1 2 1 2 1 1 1</span></span>
<span><span class="co">#&gt;  [55] 1 2 2 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 1 1 2</span></span>
<span><span class="co">#&gt;  [82] 1 2 1 2 1 1 1 1 2 1 1 1 2 1 1 1 1 2 1 2 2 1 2 1 1 1 1</span></span>
<span><span class="co">#&gt; [109] 1 1 1 2 1 1 2 1 1 2 1 1 2 1 2 2 2 1 1 1 2 1 1 1 1 2 1</span></span>
<span><span class="co">#&gt; [136] 1 1 2 1 1 1 1 1 2 2 2 1 1 1 2</span></span>
<span><span class="co"># nos imprime la muestra tomada.</span></span></code></pre></div>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trainData</span> <span class="op">&lt;-</span> <span class="va">partners</span> <span class="op">[</span><span class="va">ind</span><span class="op">==</span><span class="fl">1</span>,<span class="op">]</span>    </span>
<span><span class="co"># genero un set de entrenamiento </span></span>
<span><span class="va">testData</span> <span class="op">&lt;-</span> <span class="va">partners</span> <span class="op">[</span><span class="va">ind</span><span class="op">==</span><span class="fl">2</span>,<span class="op">]</span>    </span>
<span><span class="co"># genero un set de datos de prueba</span></span>
<span><span class="va">myFormula</span> <span class="op">&lt;-</span> <span class="va">Empresa</span> <span class="op">~</span> <span class="va">Normas</span> <span class="op">+</span> <span class="va">Tecnologia</span> <span class="op">+</span> <span class="va">Capital</span> <span class="op">+</span> <span class="va">Equipo</span> </span>
<span><span class="va">transit_ctree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/party/man/ctree.html">ctree</a></span><span class="op">(</span><span class="va">myFormula</span>, data<span class="op">=</span><span class="va">trainData</span><span class="op">)</span>    </span>
<span><span class="co"># creo el motor de entrenamiento</span></span>
<span><span class="co"># Verificar las prediciones </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">transit_ctree</span><span class="op">)</span>, <span class="va">trainData</span><span class="op">$</span><span class="va">Empresa</span><span class="op">)</span> </span>
<span><span class="co">#&gt;                </span></span>
<span><span class="co">#&gt;                 CNB-Cerveza FARMACORP SOFIA-Avicola</span></span>
<span><span class="co">#&gt;   CNB-Cerveza            36         0             0</span></span>
<span><span class="co">#&gt;   FARMACORP               0        37             3</span></span>
<span><span class="co">#&gt;   SOFIA-Avicola           0         1            30</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">transit_ctree</span><span class="op">)</span> </span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Conditional inference tree with 4 terminal nodes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Response:  Empresa </span></span>
<span><span class="co">#&gt; Inputs:  Normas, Tecnologia, Capital, Equipo </span></span>
<span><span class="co">#&gt; Number of observations:  107 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1) Capital &lt;= 1.9; criterion = 1, statistic = 100.115</span></span>
<span><span class="co">#&gt;   2)*  weights = 36 </span></span>
<span><span class="co">#&gt; 1) Capital &gt; 1.9</span></span>
<span><span class="co">#&gt;   3) Equipo &lt;= 1.6; criterion = 1, statistic = 48.21</span></span>
<span><span class="co">#&gt;     4) Capital &lt;= 4.6; criterion = 1, statistic = 14.72</span></span>
<span><span class="co">#&gt;       5)*  weights = 31 </span></span>
<span><span class="co">#&gt;     4) Capital &gt; 4.6</span></span>
<span><span class="co">#&gt;       6)*  weights = 9 </span></span>
<span><span class="co">#&gt;   3) Equipo &gt; 1.6</span></span>
<span><span class="co">#&gt;     7)*  weights = 31</span></span></code></pre></div>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://party.R-forge.R-project.org">party</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/attach.html">attach</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span></span>
<span><span class="co">#&gt; The following objects are masked from partners (pos = 3):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     ...1, Capital, Empresa, Equipo, Normas,</span></span>
<span><span class="co">#&gt;     Tecnologia</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span>    </span>
<span><span class="co">#&gt; spc_tbl_ [150 × 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ ...1      : num [1:150] 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ Tecnologia: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span></span>
<span><span class="co">#&gt;  $ Normas    : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</span></span>
<span><span class="co">#&gt;  $ Capital   : num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span></span>
<span><span class="co">#&gt;  $ Equipo    : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span></span>
<span><span class="co">#&gt;  $ Empresa   : Factor w/ 3 levels "CNB-Cerveza",..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  - attr(*, "spec")=</span></span>
<span><span class="co">#&gt;   .. cols(</span></span>
<span><span class="co">#&gt;   ..   ...1 = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Tecnologia = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Normas = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Capital = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Equipo = col_double(),</span></span>
<span><span class="co">#&gt;   ..   Empresa = col_factor(levels = c("CNB-Cerveza", "FARMACORP", "SOFIA-Avicola"), ordered = FALSE, include_na = FALSE)</span></span>
<span><span class="co">#&gt;   .. )</span></span>
<span><span class="co">#&gt;  - attr(*, "problems")=&lt;externalptr&gt;</span></span>
<span><span class="co"># describe al objeto transit</span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arules/man/sample.html">sample</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">partners</span><span class="op">)</span>, replace<span class="op">=</span><span class="cn">TRUE</span>, prob<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span>  </span>
<span><span class="co"># toma una muestra </span></span>
<span><span class="va">ind</span>  </span>
<span><span class="co">#&gt;   [1] 2 1 1 1 2 2 2 1 1 1 1 1 1 2 2 2 1 2 1 2 2 1 1 1 1 1 2</span></span>
<span><span class="co">#&gt;  [28] 1 1 1 1 1 1 1 2 1 1 2 1 1 1 1 2 1 2 1 1 2 1 1 2 1 2 2</span></span>
<span><span class="co">#&gt;  [55] 1 1 1 1 2 1 1 1 1 1 2 1 1 2 2 2 1 2 1 1 1 1 1 1 1 2 1</span></span>
<span><span class="co">#&gt;  [82] 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 2 1 1 1 2 1 1 2 1 1 1</span></span>
<span><span class="co">#&gt; [109] 2 1 1 2 1 1 1 1 1 1 1 2 1 2 1 1 1 1 2 1 1 1 2 1 1 2 2</span></span>
<span><span class="co">#&gt; [136] 1 1 1 2 1 1 2 2 1 1 1 1 1 1 1</span></span>
<span><span class="co"># nos imprime la muestra tomada.</span></span></code></pre></div>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">transit_ctree</span><span class="op">)</span>, <span class="va">trainData</span><span class="op">$</span><span class="va">Empresa</span><span class="op">)</span> </span>
<span><span class="co">#&gt;                </span></span>
<span><span class="co">#&gt;                 CNB-Cerveza FARMACORP SOFIA-Avicola</span></span>
<span><span class="co">#&gt;   CNB-Cerveza            36         0             0</span></span>
<span><span class="co">#&gt;   FARMACORP               0        37             3</span></span>
<span><span class="co">#&gt;   SOFIA-Avicola           0         1            30</span></span></code></pre></div>
<p>Impresión del Árbol de Decisión</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">transit_ctree</span>, las<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="07-Arboles_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">trainData</span><span class="op">$</span><span class="va">Empresa</span><span class="op">)</span></span>
<span><span class="co">#&gt;   CNB-Cerveza     FARMACORP SOFIA-Avicola </span></span>
<span><span class="co">#&gt;            36            38            33</span></span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="clusterizaci%C3%B3n.html"><span class="header-section-number">11</span> Clusterización</a></div>
<div class="next"><a href="random-forest.html"><span class="header-section-number">13</span> Random Forest</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#%C3%A1rboles-de-decisi%C3%B3n"><span class="header-section-number">12</span> Árboles de decisión</a></li>
<li><a class="nav-link" href="#bibliograf%C3%ADa-recomendada-4"><span class="header-section-number">12.1</span> Bibliografía recomendada</a></li>
<li><a class="nav-link" href="#carga-de-datos-desde-la-web"><span class="header-section-number">12.2</span> Carga de datos desde la web</a></li>
<li><a class="nav-link" href="#matriz-de-covarianza"><span class="header-section-number">12.3</span> Matriz de Covarianza</a></li>
<li><a class="nav-link" href="#entrenamiento-de-%C3%A1rbol-de-decisi%C3%B3n"><span class="header-section-number">12.4</span> Entrenamiento de árbol de decisión</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/07-Arboles.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/07-Arboles.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Analitica de Datos Industriales Segunda Edición</strong>" was written by Dr. Ing. Ricardo R. Palma. It was last built on 2025-10-22.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
